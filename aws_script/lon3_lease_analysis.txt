==========================================
ğŸ” Lease Data Analysis - Deadlock Detection
==========================================
Analyzing file: lease-data-20251121-122740.json

ğŸ“Š Total Shards: 77

ğŸ“‹ Shard Status Summary:
   â”œâ”€ Active & Assigned: 50
   â”œâ”€ Closed (SHARD_END): 0
   â””â”€ Unassigned: 27

ğŸ‘¥ Worker Distribution:
   msg-relayer-kds-events-sts-uk-lon3-0: 23 leases
   msg-relayer-kds-events-sts-uk-lon3-1: 27 leases

==========================================
ğŸ” Deadlock Analysis
==========================================

âš ï¸  WARNING: Shard shardId-000000000244 references missing parent: shardId-000000000241
âš ï¸  WARNING: Shard shardId-000000000219 references missing parent: shardId-000000000216
âš ï¸  WARNING: Shard shardId-000000000255 references missing parent: shardId-000000000253
âš ï¸  WARNING: Shard shardId-000000000265 references missing parent: shardId-000000000263
âš ï¸  WARNING: Shard shardId-000000000264 references missing parent: shardId-000000000261
âš ï¸  WARNING: Shard shardId-000000000288 references missing parent: shardId-000000000286
âš ï¸  WARNING: Shard shardId-000000000269 references missing parent: shardId-000000000266
âš ï¸  WARNING: Shard shardId-000000000137 references missing parent: shardId-000000000135
âš ï¸  WARNING: Shard shardId-000000000230 references missing parent: shardId-000000000228
âš ï¸  WARNING: Shard shardId-000000000292 references missing parent: shardId-000000000289
âš ï¸  WARNING: Shard shardId-000000000239 references missing parent: shardId-000000000236
âš ï¸  WARNING: Shard shardId-000000000215 references missing parent: shardId-000000000213
âš ï¸  WARNING: Shard shardId-000000000317 references missing parent: shardId-000000000314
âš ï¸  WARNING: Shard shardId-000000000142 references missing parent: shardId-000000000140
âš ï¸  WARNING: Shard shardId-000000000180 references missing parent: shardId-000000000178
âš ï¸  WARNING: Shard shardId-000000000214 references missing parent: shardId-000000000211
âš ï¸  WARNING: Shard shardId-000000000152 references missing parent: shardId-000000000150
âš ï¸  WARNING: Shard shardId-000000000204 references missing parent: shardId-000000000201
âš ï¸  WARNING: Shard shardId-000000000151 references missing parent: shardId-000000000148
âš ï¸  WARNING: Shard shardId-000000000132 references missing parent: shardId-000000000130
âš ï¸  WARNING: Shard shardId-000000000220 references missing parent: shardId-000000000218
âš ï¸  WARNING: Shard shardId-000000000223 references missing parent: shardId-000000000105
âš ï¸  WARNING: Shard shardId-000000000209 references missing parent: shardId-000000000206
âš ï¸  WARNING: Shard shardId-000000000200 references missing parent: shardId-000000000198
âš ï¸  WARNING: Shard shardId-000000000167 references missing parent: shardId-000000000165
âš ï¸  WARNING: Shard shardId-000000000194 references missing parent: shardId-000000000191
âš ï¸  WARNING: Shard shardId-000000000199 references missing parent: shardId-000000000196
âš ï¸  WARNING: Shard shardId-000000000249 references missing parent: shardId-000000000246
âš ï¸  WARNING: Shard shardId-000000000322 references missing parent: shardId-000000000319
âš ï¸  WARNING: Shard shardId-000000000171 references missing parent: shardId-000000000168
âš ï¸  WARNING: Shard shardId-000000000146 references missing parent: shardId-000000000143
âš ï¸  WARNING: Shard shardId-000000000298 references missing parent: shardId-000000000296
âš ï¸  WARNING: Shard shardId-000000000157 references missing parent: shardId-000000000155
âš ï¸  WARNING: Shard shardId-000000000254 references missing parent: shardId-000000000251
âš ï¸  WARNING: Shard shardId-000000000270 references missing parent: shardId-000000000268
âš ï¸  WARNING: Shard shardId-000000000293 references missing parent: shardId-000000000291
âš ï¸  WARNING: Shard shardId-000000000282 references missing parent: shardId-000000000279
âš ï¸  WARNING: Shard shardId-000000000190 references missing parent: shardId-000000000188
âš ï¸  WARNING: Shard shardId-000000000225 references missing parent: shardId-000000000106
âš ï¸  WARNING: Shard shardId-000000000283 references missing parent: shardId-000000000281
âš ï¸  WARNING: Shard shardId-000000000131 references missing parent: shardId-000000000128
âš ï¸  WARNING: Shard shardId-000000000234 references missing parent: shardId-000000000231
âš ï¸  WARNING: Shard shardId-000000000162 references missing parent: shardId-000000000160
âš ï¸  WARNING: Shard shardId-000000000250 references missing parent: shardId-000000000248
âš ï¸  WARNING: Shard shardId-000000000240 references missing parent: shardId-000000000238
âš ï¸  WARNING: Shard shardId-000000000176 references missing parent: shardId-000000000173
âš ï¸  WARNING: Shard shardId-000000000287 references missing parent: shardId-000000000284
âš ï¸  WARNING: Shard shardId-000000000303 references missing parent: shardId-000000000301
âš ï¸  WARNING: Shard shardId-000000000210 references missing parent: shardId-000000000208
âš ï¸  WARNING: Shard shardId-000000000259 references missing parent: shardId-000000000256
âš ï¸  WARNING: Shard shardId-000000000229 references missing parent: shardId-000000000226
âš ï¸  WARNING: Shard shardId-000000000184 references missing parent: shardId-000000000181
âš ï¸  WARNING: Shard shardId-000000000307 references missing parent: shardId-000000000304
âš ï¸  WARNING: Shard shardId-000000000127 references missing parent: shardId-000000000085
âš ï¸  WARNING: Shard shardId-000000000195 references missing parent: shardId-000000000193
âš ï¸  WARNING: Shard shardId-000000000278 references missing parent: shardId-000000000276
âš ï¸  WARNING: Shard shardId-000000000260 references missing parent: shardId-000000000258
âš ï¸  WARNING: Shard shardId-000000000297 references missing parent: shardId-000000000294
âš ï¸  WARNING: Shard shardId-000000000185 references missing parent: shardId-000000000183
âš ï¸  WARNING: Shard shardId-000000000318 references missing parent: shardId-000000000316
âš ï¸  WARNING: Shard shardId-000000000224 references missing parent: shardId-000000000221
âš ï¸  WARNING: Shard shardId-000000000312 references missing parent: shardId-000000000309
âš ï¸  WARNING: Shard shardId-000000000136 references missing parent: shardId-000000000133
âš ï¸  WARNING: Shard shardId-000000000245 references missing parent: shardId-000000000243
âš ï¸  WARNING: Shard shardId-000000000302 references missing parent: shardId-000000000299
âš ï¸  WARNING: Shard shardId-000000000141 references missing parent: shardId-000000000138
âš ï¸  WARNING: Shard shardId-000000000205 references missing parent: shardId-000000000203
âš ï¸  WARNING: Shard shardId-000000000308 references missing parent: shardId-000000000306
âš ï¸  WARNING: Shard shardId-000000000172 references missing parent: shardId-000000000170
âš ï¸  WARNING: Shard shardId-000000000166 references missing parent: shardId-000000000163
âš ï¸  WARNING: Shard shardId-000000000235 references missing parent: shardId-000000000233
âš ï¸  WARNING: Shard shardId-000000000189 references missing parent: shardId-000000000186
âš ï¸  WARNING: Shard shardId-000000000147 references missing parent: shardId-000000000145
âš ï¸  WARNING: Shard shardId-000000000179 references missing parent: shardId-000000000175
âš ï¸  WARNING: Shard shardId-000000000274 references missing parent: shardId-000000000271
âš ï¸  WARNING: Shard shardId-000000000277 references missing parent: shardId-000000000273
âš ï¸  WARNING: Shard shardId-000000000161 references missing parent: shardId-000000000158
==========================================
â° Lease Timeout Analysis
==========================================

âœ… No stale leases detected (all leases are recent)

==========================================
ğŸ“Š Analysis Summary
==========================================

Total Shards Analyzed: 77
â”œâ”€ Active & Processing: 50
â”œâ”€ Closed (SHARD_END): 0
â””â”€ Unassigned: 27

Blocking Issues:
â”œâ”€ Shards blocked by parent: 0
â”œâ”€ Potential deadlocks: 0
â””â”€ Parent-child issues: 77

Lease Health:
â”œâ”€ Stale leases (>1h old): 0
â””â”€ Very stale (>24h old): 0

âœ… No issues detected!

ğŸ’¡ System appears healthy:
   - All shards properly assigned
   - No deadlocks detected
   - Lease timeouts are current

